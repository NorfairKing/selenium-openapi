openapi: 3.0.2
info:
  title: Selenium WebDriver
  description: '[Selenium WebDriver](https://www.w3.org/TR/webdriver) API specification'
  version: 1.0.0
  contact:
    email: support@aerokube.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
servers:
  - url: '{protocol}://{host}:{port}{path}'
    description: Selenium WebDriver API
    variables:
      protocol:
        enum:
          - http
          - https
        default: http
      host:
        default: localhost
        description: Selenium host name
      port:
        description: Selenium port number
        enum:
          - '4444'
          - '4445'
        default: '4444'
      path:
        description: Selenium API base path
        enum:
          - '/wd/hub'
          - '/'
        default: '/wd/hub'
tags:
  - name: sessions
    description: Commands to start, stop a session and adjust its settings
  - name: timeouts
    description: Commands to start, stop a session and adjust its settings
  - name: navigation
    description: Navigation commands
  - name: contexts
    description: Command contexts
  - name: elements
    description: Commands to work with page elements
  - name: document
    description: Document handling commands like getting page source
  - name: cookies
    description: Commands to work with cookies
  - name: actions
    description: Actions like clicking on the buttons, moving the mouse and so on
  - name: prompts
    description: Commands to work with alerts
  - name: screenshots
    description: Commands to take screenshots
components:
  securitySchemes:
    BasicAuth:
      type: http
      scheme: basic
  schemas:
    Status:
      type: object
      properties:
        value:
          type: object
          properties:
            ready:
              type: boolean
            message:
              type: string
    Success:
      type: object
      properties:
        value:
          type: object
          nullable: true
    Error:
      type: object
      properties:
        value:
          type: object
          properties:
            error:
              type: string
            message:
              type: string
            stacktrace:
              type: string
            data:
              type: object
              additionalProperties:
                type: object
    CapabilityValue:
      oneOf:
        - type: string
        - type: integer
        - type: boolean
        - type: object
    Capabilities:
      type: object
      additionalProperties:
        type: object
        $ref: '#/components/schemas/CapabilityValue'
    NewSessionRequest:
      type: object
      properties:
        capabilities:
          type: object
          properties:
            alwaysMatch:
              type: object
              $ref: '#/components/schemas/Capabilities'
            firstMatch:
              type: array
              items:
                $ref: '#/components/schemas/Capabilities'
    NewSessionResponse:
      type: object
      properties:
        value:
          type: object
          properties:
            sessionId:
              type: string
            capabilities:
              type: string
              $ref: '#/components/schemas/Capabilities'
    TimeoutsRequest:
      type: object
      properties:
        script:
          type: string
        pageLoad:
          type: string
        implicit:
          type: string
    TimeoutsResponse:
      type: object
      properties:
        value:
          type: object
          $ref: '#/components/schemas/TimeoutsRequest'
    UrlRequest:
      type: object
      properties:
        url:
          type: string
    SwitchToWindowRequest:
      type: object
      properties:
        handle:
          type: string
    GetWindowHandlesResponse:
      type: object
      properties:
        value:
          type: array
          items:
            type: string
    NewWindowRequest:
      type: object
      properties:
        type:
          type: string
          enum: [tab, window]
    NewWindowResponse:
      type: object
      properties:
        value:
          type: object
          properties:
            handle:
              type: string
            type:
              type: string
              enum: [tab, window]
    SwitchToFrameRequest:
      type: object
      properties:
        handle:
          type: string
    WindowState:
      type: string
      enum: [maximized, minimized, normal, fullscreen]
    WindowRect:
      type: object
      properties:
        x:
          type: integer
          minimum: 0
        y:
          type: integer
          minimum: 0
        width:
          type: integer
          minimum: 0
        height:
          type: integer
          minimum: 0
paths:
  /status:
    get:
      tags:
        - sessions
      summary: Gets Selenium API status information
      operationId: getStatus
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Status'
  /session:
    post:
      tags:
        - sessions
      summary: Creates new Selenium session
      security:
        - BasicAuth: []
      operationId: createSession
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewSessionRequest'
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewSessionResponse'
        401:
          description: invalid username or password
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: session not created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}:
    delete:
      tags:
        - sessions
      summary: Deletes existing Selenium session
      operationId: deleteSession
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/timeouts:
    get:
      tags:
        - timeouts
      summary: Get session timeouts
      operationId: getTimeouts
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeoutsResponse'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      tags:
        - timeouts
      summary: Adjusts session timeouts
      operationId: setTimeouts
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TimeoutsRequest'
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/url:
    get:
      tags:
        - navigation
      summary: Returns current URL
      operationId: getCurrentUrl
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        400:
          description: no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      tags:
        - navigation
      summary: Navigates to URL
      operationId: navigateTo
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UrlRequest'
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        400:
          description: no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: timeout
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/back:
    post:
      tags:
        - navigation
      summary: Navigates to the previous page
      operationId: navigateBack
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        400:
          description: no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: timeout
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/forward:
    post:
      tags:
        - navigation
      summary: Navigates to the next page
      operationId: navigateForward
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/refresh:
    post:
      tags:
        - navigation
      summary: Reloads current page
      operationId: refreshPage
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/title:
    get:
      tags:
        - navigation
      summary: Returns current page title
      operationId: getPageTitle
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/window:
    get:
      tags:
        - contexts
      summary: Returns current window handle
      operationId: getWindowHandle
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      tags:
        - contexts
      summary: Switches to window
      operationId: switchToWindow
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SwitchToWindowRequest'
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      tags:
        - contexts
      summary: Closes current window
      operationId: closeWindow
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/window/handles:
    get:
      tags:
        - contexts
      summary: Returns all window handles
      operationId: getWindowHandles
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetWindowHandlesResponse'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/window/new:
    post:
      tags:
        - contexts
      summary: Creates a new window or tab
      operationId: createNewWindow
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewWindowRequest'
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewWindowResponse'
        404:
          description: invalid session id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/window/frame:
    post:
      tags:
        - contexts
      summary: Switch to frame
      operationId: switchToFrame
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SwitchToFrameRequest'
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        400:
          description: invalid argument
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        404:
          description: invalid session id or no such window or or no such frame
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/window/frame/parent:
    post:
      tags:
        - contexts
      summary: Switch to parent frame
      operationId: switchToParentFrame
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id or no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/window/rect:
    get:
      tags:
        - contexts
      summary: Get window size
      operationId: getWindowRect
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WindowRect'
        404:
          description: invalid session id or no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      tags:
        - contexts
      summary: Set window size
      operationId: setWindowRect
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WindowRect'
        400:
          description: invalid argument
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        404:
          description: invalid session id or no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unsupported operation or unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/window/maximize:
    post:
      tags:
        - contexts
      summary: Maximize window
      operationId: maximizeWindow
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WindowRect'
        400:
          description: invalid argument
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        404:
          description: invalid session id or no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unsupported operation or unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/window/minimize:
    post:
      tags:
        - contexts
      summary: Minimize window
      operationId: minimizeWindow
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WindowRect'
        400:
          description: invalid argument
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        404:
          description: invalid session id or no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unsupported operation or unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/window/fullscreen:
    post:
      tags:
        - contexts
      summary: Fullscreen window
      operationId: fullscreenWindow
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WindowRect'
        400:
          description: invalid argument
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        404:
          description: invalid session id or no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unsupported operation or unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/screenshot:
    get:
      tags:
        - screenshots
      summary: Takes page screenshot
      operationId: takeScreenshot
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id or no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unsupported operation or unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /session/{sessionId}/element/{elementId}/screenshot:
    get:
      tags:
        - screenshots
      summary: Takes element screenshot
      operationId: takeElementScreenshot
      parameters:
        - name: "sessionId"
          in: "path"
          description: "Requested session ID"
          required: true
          schema:
            type: "string"
        - name: "elementId"
          in: "path"
          description: "Selenium element ID"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        404:
          description: invalid session id or no such window
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        500:
          description: unsupported operation or unexpected alert open
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

